!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("path"),require("@babel/template")):"function"==typeof define&&define.amd?define(["exports","path","@babel/template"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["jotaiPlugin-debug-label"]={},e.path,e._templateBuilder)}(this,(function(e,t,i){"use strict";function a(e,t,i){if(void 0===i&&(i=[]),e.isIdentifier(t)&&n.includes(t.name))return!0;if(e.isMemberExpression(t)){var a=t.property;if(e.isIdentifier(a)&&[].concat(n,i).includes(a.name))return!0}return!1}var n=["abortableAtom","atom","atomFamily","atomWithDefault","atomWithHash","atomWithImmer","atomWithInfiniteQuery","atomWithMachine","atomWithMutation","atomWithObservable","atomWithProxy","atomWithQuery","atomWithReducer","atomWithReset","atomWithSubscription","atomWithStorage","atomWithStore","freezeAtom","loadable","selectAtom","splitAtom"],o=i.default||i;e.default=function(e,i){var n=e.types;return{visitor:{ExportDefaultDeclaration:function(e,r){var l=e.node;if(n.isCallExpression(l.declaration)&&a(n,l.declaration.callee,null==i?void 0:i.customAtomNames)){var m=r.filename||"unknown",s=t.basename(m,t.extname(m));"index"===s&&(s=t.basename(t.dirname(m)));var d=o("\n          const %%atomIdentifier%% = %%atom%%;\n          export default %%atomIdentifier%%\n          ")({atomIdentifier:n.identifier(s),atom:l.declaration});e.replaceWithMultiple(d)}},VariableDeclarator:function(e){n.isIdentifier(e.node.id)&&n.isCallExpression(e.node.init)&&a(n,e.node.init.callee,null==i?void 0:i.customAtomNames)&&e.parentPath.insertAfter(n.expressionStatement(n.assignmentExpression("=",n.memberExpression(n.identifier(e.node.id.name),n.identifier("debugLabel")),n.stringLiteral(e.node.id.name))))}}}},Object.defineProperty(e,"__esModule",{value:!0})}));
